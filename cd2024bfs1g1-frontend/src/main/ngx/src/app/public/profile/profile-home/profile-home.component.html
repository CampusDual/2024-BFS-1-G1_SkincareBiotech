<mat-tab-group fxFlex>
    <mat-tab label="{{ 'ORDERS_HISTORY' | oTranslate }}">
        <app-orders-history></app-orders-history>
    </mat-tab>      
    <mat-tab label="{{ 'MY_PROFILE' | oTranslate }}">  
        <o-form #form attr="usrprofileTable" service="profiles" entity="userProfile" keys="USR_ID" header-actions="U"
           columns="USR_ID;USR_NAME;USR_SURNAME;USR_EMAIL;USR_PHONE;UPR_BIRTHDATE;UPR_ADDRESS;UGE_ID"
            visible-columns="USR_NAME;USR_SURNAME;USR_EMAIL;USR_PHONE;UPR_BIRTHDATE;UPR_ADDRESS;UGE_ID" 
            show-header-navigation="yes">
            
            <label>{{ 'NAME' | oTranslate }}</label>
            <o-integer-input attr="USR_ID" sql-type="INTEGER" enabled="no" hidden></o-integer-input>        
            <div class="name">
                <o-text-input attr="USR_NAME" label="USR_NAME" required="yes" [validators]="validatorsNameArray">
                    <o-validator error-name="pattern"
                        error-text="{{ 'ERROR_NAME' | oTranslate }}"></o-validator>
                </o-text-input>
                <o-text-input attr="USR_SURNAME" title="USR_SURNAME"  required="yes"  formControlName="usr_surname"></o-text-input>
                <o-combo attr="UGE_ID" searchable="no" service="user-genders" entity="userGender" keys="UGE_ID"
                columns="UGE_NAME" visible-columns="UGE_NAME" value-column="UGE_ID" translate="yes" required="yes" ></o-combo>
            </div>

            <label>{{ 'CONTACT' | oTranslate }}</label>
            <div class="contact">
                <o-text-input attr="USR_PHONE" label="USR_PHONE" required="yes" [validators]="validatorsPhoneArray">
                    <o-validator error-phone="pattern"
                        error-text="{{ 'ERROR_PHONE' | oTranslate }}"></o-validator>
                </o-text-input>
                <o-email-input attr="USR_EMAIL" required="yes"  title="USR_EMAIL"></o-email-input>
            </div>

            <label>{{ 'ADDITIONAL_INFO' | oTranslate }}</label>
            <div class="info">
                <o-date-input attr="UPR_BIRTHDATE" required="yes" title="UPR_BIRTHDATE" format="DD/MM/YYYY"></o-date-input>
                <o-text-input attr="UPR_ADDRESS" title="UPR_ADDRESS"></o-text-input>
              
                <div *ngIf="form.formGroup.get('UPR_BIRTHDATE').invalid && (form.formGroup.get('UPR_BIRTHDATE').dirty || form.formGroup.get('UPR_BIRTHDATE').touched)" class="error-message">
                  {{ 'ERROR_BIRTHDATE' | oTranslate }}
                </div>
              </div> 
        </o-form>
    </mat-tab>
</mat-tab-group>
